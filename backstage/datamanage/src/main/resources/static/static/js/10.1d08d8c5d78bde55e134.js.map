{"version":3,"sources":["webpack:///./src/views/resource/customEval.js"],"names":["Object","defineProperty","__webpack_exports__","value","treeToArray","data","expandAll","parent","level","item","marLTemp","tmp","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_array_from___default","forEach","record","undefined","_expanded","Vue","set","_level","_marginLeft","_width","id","push","children","length","concat","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_array_from__","__webpack_require__","n","__WEBPACK_IMPORTED_MODULE_1_vue__"],"mappings":"qDAAAA,OAAAC,eAAAC,EAAA,cAAAC,OAAA,IAAAD,EAAA,QAMe,SAASE,EAAYC,EAAMC,EAAWC,EAAQC,EAAOC,GAClE,IAAMC,KACN,IAAIC,KACJC,IAAWP,GAAMQ,QAAQ,SAASC,QACPC,IAArBD,EAAOE,WACTC,UAAIC,IAAIJ,EAAQ,YAAaR,GAE/B,IAAIa,EAAS,EA4Bb,QA3BcJ,IAAVP,GAAiC,OAAVA,IACzBW,EAASX,EAAQ,GAEnBS,UAAIC,IAAIJ,EAAQ,SAAUK,GAEtBZ,GACFU,UAAIC,IAAIJ,EAAQ,SAAUP,GAGrBG,EAASS,KACZT,EAASS,GAAU,GAErBF,UAAIC,IAAIJ,EAAQ,cAAeJ,EAASS,GAAUZ,EAAOa,aACzDH,UAAIC,IAAIJ,EAAQ,SAAUA,EAAOL,GAAQF,EAAOE,GAAQF,EAAOc,QAE/DX,EAASS,IAAWL,EAAOO,SAI3BX,EAASI,EAAOQ,OAGhBZ,EAASI,EAAOQ,IAAIH,GAAU,EAC9BF,UAAIC,IAAIJ,EAAQ,cAAe,GAC/BG,UAAIC,IAAIJ,EAAQ,SAAU,IAE5BH,EAAIY,KAAKT,GACLA,EAAOU,UAAYV,EAAOU,SAASC,OAAS,EAAG,CACjD,IAAMD,EAAWpB,EAAYU,EAAOU,SAAUlB,EAAWQ,EAAQK,EAAQV,GACzEE,EAAMA,EAAIe,OAAOF,MAGrB,OAAOb,GA9CT,IAAAgB,EAAAC,EAAA,QAAAhB,EAAAgB,EAAAC,EAAAF,GAAAG,EAAAF,EAAA","file":"static/js/10.1d08d8c5d78bde55e134.js","sourcesContent":["/**\n* @Author: jianglei\n* @Date:   2017-10-12 12:06:49\n*/\n'use strict'\nimport Vue from 'vue'\nexport default function treeToArray(data, expandAll, parent, level, item) {\n  const marLTemp = []\n  let tmp = []\n  Array.from(data).forEach(function(record) {\n    if (record._expanded === undefined) {\n      Vue.set(record, '_expanded', expandAll)\n    }\n    let _level = 1\n    if (level !== undefined && level !== null) {\n      _level = level + 1\n    }\n    Vue.set(record, '_level', _level)\n    // 如果有父元素\n    if (parent) {\n      Vue.set(record, 'parent', parent)\n      // 如果父元素有偏移量，需要计算在this的偏移量中\n      // 偏移量还与前面同级元素有关，需要加上前面所有元素的长度和\n      if (!marLTemp[_level]) {\n        marLTemp[_level] = 0\n      }\n      Vue.set(record, '_marginLeft', marLTemp[_level] + parent._marginLeft)\n      Vue.set(record, '_width', record[item] / parent[item] * parent._width)\n      // 在本次计算过偏移量后加上自己长度，以供下一个元素使用\n      marLTemp[_level] += record._width\n    } else {\n      // 如果为根\n      // 初始化偏移量存储map\n      marLTemp[record.id] = []\n      // map中是一个数组，存储的是每级的长度和\n      // 初始情况下为0\n      marLTemp[record.id][_level] = 0\n      Vue.set(record, '_marginLeft', 0)\n      Vue.set(record, '_width', 1)\n    }\n    tmp.push(record)\n    if (record.children && record.children.length > 0) {\n      const children = treeToArray(record.children, expandAll, record, _level, item)\n      tmp = tmp.concat(children)\n    }\n  })\n  return tmp\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/resource/customEval.js"],"sourceRoot":""}