{"version":3,"sources":["webpack:///src/views/customer/index.vue","webpack:///./src/views/customer/index.vue?10b7","webpack:///./src/views/customer/index.vue","webpack:///./src/api/customer.js"],"names":["views_customer","data","list","listQuery","total","pageNum","pageSize","customerName","statusArray","value","label","enterpriseOption","textMap","update","create","dialogStatus","dialogFormVisible","customerFormData","id","enterpriseId","status","customerNo","rules","required","trigger","validator","rule","callback","Error","message","listLoading","created","_this","this","promise_default","a","all","initEnterpriseList","then","getList","methods","openTableMenu","row","event","$refs","menuContext","_this2","Object","enterprise","forEach","item","push","enterpriseName","handleFilter","_this3","customer","response","resetTemp","handleCreate","_this4","$nextTick","clearValidate","handleUpdate","_this5","assign_default","editData","_this6","customerForm","validate","valid","$message","type","handleDelete","_this7","$confirm","confirmButtonText","cancelButtonText","splice","indexOf","catch","handleSizeChange","val","handleCurrentChange","selectortype_template_index_0_src_views_customer","render","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","width","attrs","placeholder","model","$$v","$set","expression","_v","icon","on","click","margin-left","directives","name","rawName","element-loading-text","border","fit","highlight-current-row","row-contextmenu","show-overflow-tooltip","align","scopedSlots","_u","key","fn","scope","_l","_s","_e","ref","background","current-page","page-sizes","page-size","layout","size-change","current-change","title","visible","update:visible","$event","label-position","label-width","prop","clearable","slot","staticRenderFns","Component","__webpack_require__","normalizeComponent","__webpack_exports__","query","request","url","method","params","__WEBPACK_IMPORTED_MODULE_0__utils_request__"],"mappings":"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","file":"static/js/7.266807df433e731f8b78.js","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <el-row class=\"app-query\">\n      <el-input v-model=\"listQuery.customerName\" placeholder=\"名称\"  style=\"width: 150px;\"></el-input>\n      <el-button  type=\"primary\" icon=\"el-icon-search\" @click=\"handleFilter\">查询</el-button>\n      <el-button style=\"margin-left: 10px;\" @click=\"handleCreate\" type=\"primary\" icon=\"el-icon-edit\">新增</el-button>\n    </el-row>\n\n    <el-table :data=\"list\" v-loading=\"listLoading\" element-loading-text=\"给我一点时间\" border fit highlight-current-row style=\"width: 120%\" @row-contextmenu=\"openTableMenu\">\n      <el-table-column :show-overflow-tooltip=\"true\" align=\"left\" label=\"所属企业\">\n        <template slot-scope=\"scope\">\n          <span v-for=\"item in enterpriseOption\" v-if=\"item.value==scope.row.enterpriseId\">{{item.label}}</span>\n        </template>\n      </el-table-column>\n      <el-table-column :show-overflow-tooltip=\"true\" align=\"left\" label=\"名称\">\n        <template slot-scope=\"scope\">\n          <span>{{scope.row.customerName}}</span>\n        </template>\n      </el-table-column>\n      <el-table-column :show-overflow-tooltip=\"true\" align=\"left\" label=\"是否可用\">\n        <template slot-scope=\"scope\">\n          <span v-for=\"item in statusArray\" v-if=\"item.value==scope.row.status\">{{item.label}}</span>\n        </template>\n      </el-table-column>\n      <el-table-column :show-overflow-tooltip=\"true\" align=\"left\" label=\"编码\">\n        <template slot-scope=\"scope\">\n          <span>{{scope.row.customerNo}}</span>\n        </template>\n      </el-table-column>\n    </el-table>\n    <menu-context ref=\"menuContext\">\n      <menu-context-item @click=\"handleUpdate\">编辑</menu-context-item>\n      <menu-context-item @click=\"handleDelete\">删除</menu-context-item>\n    </menu-context>\n    <div class=\"pagination-container\">\n      <el-pagination background @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\" :current-page=\"listQuery.pageNum\" :page-sizes=\"[5,10,15,20]\" :page-size=\"listQuery.pageSize\" layout=\"total, sizes, prev, pager, next, jumper\" :total=\"listQuery.total\">\n      </el-pagination>\n    </div>\n    <div class=\"el-dialog-customer\">\n      <el-dialog :title=\"textMap[dialogStatus]\" :visible.sync=\"dialogFormVisible\" width=\"30%\">\n        <el-form :rules=\"rules\" ref=\"customerForm\" :model=\"customerFormData\" label-position=\"right\" label-width=\"80px\" style='width: 90%; margin-left:15px;'>\n          <el-form-item label=\"所属企业\" prop=\"enterpriseId\">\n            <el-select clearable class=\"filter-item\" v-model=\"customerFormData.enterpriseId\"  style=\"width: 100%\">\n              <el-option v-for=\"item in enterpriseOption\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\"></el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"名称\" prop=\"customerName\">\n            <el-input v-model=\"customerFormData.customerName\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"是否可用\">\n            <el-select clearable class=\"filter-item\" v-model=\"customerFormData.status\"  style=\"width: 100%\">\n              <el-option v-for=\"item in statusArray\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\"></el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"编码\">\n            <el-input v-model=\"customerFormData.customerNo\"></el-input>\n          </el-form-item>\n        </el-form>\n        <div slot=\"footer\" class=\"dialog-footer\">\n          <el-button @click=\"dialogFormVisible = false\">取消</el-button>\n          <el-button type=\"primary\" @click=\"editData\">确认</el-button>\n        </div>\n      </el-dialog>\n    </div>\n  </div>\n</template>\n\n<script>\n    import {getCustomerListByConditionAndPage,editCustomer,deleteCustomerById} from '@/api/customer'\n    import {getEnterpriseListByCondition} from '@/api/enterprise'\n    export default {\n        data() {\n            const validateEnterpriseFun = (rule, value, callback) => {\n                if (!value) {\n                    callback(new Error('所属企业不能为空'))\n                } else {\n                    callback()\n                }\n            }\n            return {\n                list: null,\n                listQuery: {\n                    total:50,\n                    pageNum:1,\n                    pageSize:5,\n                    customerName:\"\"\n                },\n                statusArray:[\n                    {value:0,label:'否'},\n                    {value:1,label:'是'}\n                ],\n                enterpriseOption:[],\n                textMap: {\n                    update: '编辑',\n                    create: '新增'\n                },\n                dialogStatus: '',\n                dialogFormVisible: false,\n                customerFormData: {\n                    id:'',\n                    enterpriseId:'',\n                    customerName:'',\n                    status:1,\n                    customerNo:''\n                },\n                rules: {\n                    enterpriseId: [\n                        { required: true, trigger: 'blur', validator: validateEnterpriseFun}\n                    ],\n                    customerName: [\n                        { required: true, message: '名称不能为空', trigger: 'blur' }\n                    ],\n                },\n                listLoading: true,\n            }\n        },\n        created() {\n            Promise.all([this.initEnterpriseList()]).then(()=>{this.getList()})\n        },\n        methods: {\n            openTableMenu(row, event) {\n                this.$refs.menuContext.openTableMenu(row,event);\n            },\n            initEnterpriseList(){\n                let enterpriseOption=[]\n                getEnterpriseListByCondition().then(data=>{\n                    data.data.data.forEach(item=>{\n                        enterpriseOption.push({value:item.id,label:item.enterpriseName})\n                    })\n                    this.enterpriseOption=enterpriseOption\n                })\n            },\n            handleFilter() {\n                this.listQuery.pageNum = 1\n                this.getList()\n            },\n            getList() {\n                this.listLoading = true\n                getCustomerListByConditionAndPage(this.listQuery).then(response => {\n                    const data=response.data.data\n                    this.list=data.list\n                    this.listQuery.total=data.total\n                    this.listQuery.pageNum=data.pageNum\n                    this.listQuery.pageSize=data.pageSize\n                    this.listLoading = false\n                })\n            },\n            resetTemp() {\n                this.customerFormData = {\n                    id:'',\n                    enterpriseId:'',\n                    customerName:'',\n                    status:1,\n                    customerNo:''\n                }\n            },\n            handleCreate() {\n                this.resetTemp()\n                this.dialogStatus = 'create'\n                this.dialogFormVisible = true\n                this.$nextTick(() => {\n                    this.$refs['customerForm'].clearValidate()\n                })\n            },\n            handleUpdate(row) {\n                this.customerFormData = Object.assign({}, row) // copy obj\n                this.dialogStatus = 'update'\n                this.dialogFormVisible = true\n                this.$nextTick(() => {\n                    this.$refs['customerForm'].clearValidate()\n                })\n            },\n            editData(){\n                this.$refs.customerForm.validate(valid => {\n                    if (valid) {\n                        editCustomer(this.customerFormData).then(data=>{\n                            this.dialogFormVisible = false\n                            this.$message({\n                                message: '成功',\n                                type: 'success'\n                            });\n                            this.getList()\n                        })\n                    } else {\n                        return false\n                    }\n                })\n            },\n            handleDelete(row) {\n                this.$confirm('确认删除?', '提示', {\n                    confirmButtonText: '确定',\n                    cancelButtonText: '取消',\n                    type: 'warning'\n                }).then(() => {\n                    deleteCustomerById(row.id).then(data=>{\n                        this.$message({\n                            message: '删除成功',\n                            type: 'success'\n                        });\n                        this.list.splice(this.list.indexOf(row), 1)\n                    })\n                }).catch(() => {\n                    this.$message({\n                        type: 'info',\n                        message: '已取消删除'\n                    });\n                });\n            },\n            handleSizeChange(val) {\n                this.listQuery.pageSize = val\n                this.getList()\n            },\n            handleCurrentChange(val) {\n                this.listQuery.pageNum = val\n                this.getList()\n            }\n        }\n    }\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/views/customer/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container\"},[_c('el-row',{staticClass:\"app-query\"},[_c('el-input',{staticStyle:{\"width\":\"150px\"},attrs:{\"placeholder\":\"名称\"},model:{value:(_vm.listQuery.customerName),callback:function ($$v) {_vm.$set(_vm.listQuery, \"customerName\", $$v)},expression:\"listQuery.customerName\"}}),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.handleFilter}},[_vm._v(\"查询\")]),_vm._v(\" \"),_c('el-button',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\"},on:{\"click\":_vm.handleCreate}},[_vm._v(\"新增\")])],1),_vm._v(\" \"),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.listLoading),expression:\"listLoading\"}],staticStyle:{\"width\":\"120%\"},attrs:{\"data\":_vm.list,\"element-loading-text\":\"给我一点时间\",\"border\":\"\",\"fit\":\"\",\"highlight-current-row\":\"\"},on:{\"row-contextmenu\":_vm.openTableMenu}},[_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"align\":\"left\",\"label\":\"所属企业\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _vm._l((_vm.enterpriseOption),function(item){return (item.value==scope.row.enterpriseId)?_c('span',[_vm._v(_vm._s(item.label))]):_vm._e()})}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"align\":\"left\",\"label\":\"名称\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.customerName))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"align\":\"left\",\"label\":\"是否可用\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _vm._l((_vm.statusArray),function(item){return (item.value==scope.row.status)?_c('span',[_vm._v(_vm._s(item.label))]):_vm._e()})}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"align\":\"left\",\"label\":\"编码\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.customerNo))])]}}])})],1),_vm._v(\" \"),_c('menu-context',{ref:\"menuContext\"},[_c('menu-context-item',{on:{\"click\":_vm.handleUpdate}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('menu-context-item',{on:{\"click\":_vm.handleDelete}},[_vm._v(\"删除\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"pagination-container\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"current-page\":_vm.listQuery.pageNum,\"page-sizes\":[5,10,15,20],\"page-size\":_vm.listQuery.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.listQuery.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1),_vm._v(\" \"),_c('div',{staticClass:\"el-dialog-customer\"},[_c('el-dialog',{attrs:{\"title\":_vm.textMap[_vm.dialogStatus],\"visible\":_vm.dialogFormVisible,\"width\":\"30%\"},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-form',{ref:\"customerForm\",staticStyle:{\"width\":\"90%\",\"margin-left\":\"15px\"},attrs:{\"rules\":_vm.rules,\"model\":_vm.customerFormData,\"label-position\":\"right\",\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"所属企业\",\"prop\":\"enterpriseId\"}},[_c('el-select',{staticClass:\"filter-item\",staticStyle:{\"width\":\"100%\"},attrs:{\"clearable\":\"\"},model:{value:(_vm.customerFormData.enterpriseId),callback:function ($$v) {_vm.$set(_vm.customerFormData, \"enterpriseId\", $$v)},expression:\"customerFormData.enterpriseId\"}},_vm._l((_vm.enterpriseOption),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"名称\",\"prop\":\"customerName\"}},[_c('el-input',{model:{value:(_vm.customerFormData.customerName),callback:function ($$v) {_vm.$set(_vm.customerFormData, \"customerName\", $$v)},expression:\"customerFormData.customerName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"是否可用\"}},[_c('el-select',{staticClass:\"filter-item\",staticStyle:{\"width\":\"100%\"},attrs:{\"clearable\":\"\"},model:{value:(_vm.customerFormData.status),callback:function ($$v) {_vm.$set(_vm.customerFormData, \"status\", $$v)},expression:\"customerFormData.status\"}},_vm._l((_vm.statusArray),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"编码\"}},[_c('el-input',{model:{value:(_vm.customerFormData.customerNo),callback:function ($$v) {_vm.$set(_vm.customerFormData, \"customerNo\", $$v)},expression:\"customerFormData.customerNo\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogFormVisible = false}}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.editData}},[_vm._v(\"确认\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-10ee6b24\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/customer/index.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-10ee6b24\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/customer/index.vue\n// module id = null\n// module chunks = ","import request from '@/utils/request'\n\nexport function getCustomerListByConditionAndPage(query) {\n  return request({\n    url: '/customer/customerlistbyconditionandpage',\n    method: 'get',\n    params: query\n  })\n}\n\nexport function getCustomerListByCondition(query) {\n    return request({\n        url: '/customer/customerlistbycondition',\n        method: 'get',\n        params: query\n    })\n}\n\nexport function editCustomer(data) {\n    return request({\n        url: '/customer/editcustomer',\n        method: 'post',\n        data:data\n    })\n}\nexport function deleteCustomerById(id) {\n    return request({\n        url: '/customer/deletecustomerbyid',\n        method: 'post',\n        params:{id}\n    })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/customer.js"],"sourceRoot":""}